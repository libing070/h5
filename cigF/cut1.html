<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
<video id="video0" class="case-video case-video1" controls="controls" width="100%" height="100%">
    <source src="http://h5tt.skyengine.cn/cigF/video/0.mp4?v=1">
</video>
<video id="video1" class="case-video case-video2" controls="controls" width="100%" height="100%">
    <source src="http://h5tt.skyengine.cn/cigF/video/1.mp4?v=2">
</video>
<br><br>
视频第一帧图片：
<div id="output"></div>
<script src="./js/jquery-1.11.2.min.js"></script>
<script type="text/javascript">
    var imgList=[];
    $(function () {
        var len=$(".case-video").length;
        for(var i=0;i<len;i++){
            (function(i){
                document.getElementById('video' + i).addEventListener('loadeddata',captureImage(i))
            })(i);
        };
        setTimeout(function () {
            console.log(imgList);

        },1000);

    });
    var captureImage = function(i) {
       setTimeout(function () {
           video=document.getElementById('video' + i);
           var canvas = document.createElement("canvas");
           output = document.getElementById("output");
           canvas.width = video.videoWidth ;
           canvas.height = video.videoHeight;
           canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);

           var img = document.createElement("img");
           img.src = canvas.toDataURL("image/png");
           img.width = 330;
           img.height = 210;
           output.appendChild(img);
           imgList.push(img.src);
       },1000);

    };


    // (function(){
    //     var video, output;
    //     var scale =1;
    //     var initialize = function() {
    //
    //         output = document.getElementById("output");
    //         video = document.getElementById("video1");
    //         video.addEventListener('loadeddata',captureImage);
    //     };
    //     var captureImage = function() {
    //         var canvas = document.createElement("canvas");
    //         canvas.width = video.videoWidth * scale;
    //         canvas.height = video.videoHeight * scale;
    //         canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
    //
    //         var img = document.createElement("img");
    //         img.src = canvas.toDataURL("image/png");
    //         img.width = 330;
    //         img.height = 210;
    //         output.appendChild(img);
    //     };
    //     initialize();
    // })();
</script>
</body>
</html>